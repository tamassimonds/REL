{
  "problem": "Find the polynomial $p(x)$ such that\n\\[p(p(x)) = xp(x) + x^2.\\]",
  "solution": "To find the polynomial \\( p(x) \\) that satisfies the equation \n\n\\[\np(p(x)) = xp(x) + x^2,\n\\]\n\nwe can follow this structured approach:\n\n1. **Assume a form for \\( p(x) \\)**: Given that the equation involves polynomial composition, we start by assuming \\( p(x) \\) is a polynomial of degree \\( n \\), expressed as:\n\n   \\[\n   p(x) = a_n x^n + a_{n-1} x^{n-1} + \\ldots + a_1 x + a_0.\n   \\]\n\n2. **Analyze the degrees**: \n\n   - The left side, \\( p(p(x)) \\), will have a degree of \\( n^2 \\) because substituting a polynomial of degree \\( n \\) into itself results in the degree being multiplied.\n   - The right side, \\( xp(x) + x^2 \\), has a degree of \\( n + 1 \\) from \\( xp(x) \\) and degree 2 from \\( x^2 \\). Thus, the maximum degree on the right is \\( \\max(n + 1, 2) \\).\n\n   To maintain equality of degrees, we require:\n\n   \\[\n   n^2 = n + 1.\n   \\]\n\n3. **Solve for possible \\( n \\)**: Rearranging gives us the quadratic equation:\n\n   \\[\n   n^2 - n - 1 = 0.\n   \\]\n\n   Using the quadratic formula, we find:\n\n   \\[\n   n = \\frac{1 \\pm \\sqrt{5}}{2}.\n   \\]\n\n   These solutions are not positive integers, so we check lower degrees, starting from \\( n = 1 \\).\n\n4. **Test \\( p(x) = ax + b \\)**: We simplify our assumption to \\( p(x) = ax + b \\). Then we calculate \\( p(p(x)) \\):\n\n   \\[\n   p(p(x)) = p(ax + b) = a(ax + b) + b = a^2 x + ab + b.\n   \\]\n\n5. **Calculate the right-hand side**:\n\n   \\[\n   xp(x) + x^2 = x(ax + b) + x^2 = ax^2 + bx + x^2 = (a + 1)x^2 + bx.\n   \\]\n\n6. **Equate coefficients**: We compare coefficients from both sides:\n\n   - For \\( x^2 \\):\n     \\[\n     a^2 = a + 1.\n     \\]\n     This leads to the equation:\n     \\[\n     a^2 - a - 1 = 0,\n     \\]\n     which yields the same solutions for \\( a \\) as before: \n     \\[\n     a = \\frac{1 \\pm \\sqrt{5}}{2}.\n     \\]\n\n   - For \\( x \\):\n     \\[\n     ab + b = 0 \\Rightarrow b(a + 1) = 0.\n     \\]\n     This implies either \\( b = 0 \\) or \\( a = -1 \\).\n\n7. **Investigate the cases**:\n\n   - **Case 1: \\( b = 0 \\)**: Then \\( p(x) = ax \\). Substituting results in contradictions because a linear polynomial cannot satisfy the degree requirement.\n\n   - **Case 2: \\( a = -1 \\)**: In this case, substituting back gives \\( b = 1 \\) (since \\( a^2 = b \\)). Thus, we find:\n\n   \\[\n   p(x) = -x + 1.\n   \\]\n\n8. **Verify the solution**: To confirm \\( p(x) = -x + 1 \\) solves the original equation:\n\n   - Compute \\( p(p(x)) \\):\n     \\[\n     p(p(x)) = p(-x + 1) = -(-x + 1) + 1 = x.\n     \\]\n\n   - Check the right side:\n     \\[\n     xp(x) + x^2 = x(-x + 1) + x^2 = -x^2 + x + x^2 = x.\n     \\]\n\nSince both sides are equal, we confirm our solution.\n\nThus, the polynomial \\( p(x) \\) is:\n\n\\[\n\\boxed{-x + 1}.\n\\]",
  "ground_truth": "Let $n$ be the degree of $p(x).$  Then the degree of $p(p(x))$ is $n^2,$ and the degree of $xp(x)$ is $n + 1.$\n\nIf $n \\ge 2,$ then the degree of $xp(x) + x^2$ is $n + 1,$ which is strictly less than $n^2.$  Also, $p(x)$ clearly cannot be a constant polynomial, so the degree of $p(x)$ is $n = 1.$\n\nLet $p(x) = ax + b.$  Then\n\\[p(p(x)) = p(ax + b) = a(ax + b) + b = a^2 x + ab + b,\\]and\n\\[xp(x) + x^2 = x(ax + b) + x^2 = (a + 1) x^2 + bx.\\]Equating coefficients, we get $a + 1 = 0,$ $a^2 = b,$ and $ab + b = 0.$  Then $a = -1$ and $b = 1,$ so $p(x) = \\boxed{-x + 1}.$"
}