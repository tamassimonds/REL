{
  "problem": "Let $S$ be the sum of all positive integers $n$ such that $n^2+12n-2007$ is a perfect square. Find the remainder when $S$ is divided by $1000.$\n",
  "solution": "To determine the sum \\( S \\) of all positive integers \\( n \\) for which the expression \\( n^2 + 12n - 2007 \\) is a perfect square, we start by letting \\( k^2 \\) represent the perfect square:\n\n\\[\nn^2 + 12n - 2007 = k^2.\n\\]\n\nRearranging this yields the quadratic equation:\n\n\\[\nn^2 + 12n - k^2 - 2007 = 0.\n\\]\n\nWe can solve for \\( n \\) using the quadratic formula:\n\n\\[\nn = \\frac{-b \\pm \\sqrt{b^2 - 4ac}}{2a},\n\\]\nwhere \\( a = 1 \\), \\( b = 12 \\), and \\( c = -k^2 - 2007 \\). Plugging in these values gives:\n\n\\[\nn = \\frac{-12 \\pm \\sqrt{12^2 - 4 \\cdot 1 \\cdot (-k^2 - 2007)}}{2 \\cdot 1} = \\frac{-12 \\pm \\sqrt{144 + 4(k^2 + 2007)}}{2}.\n\\]\n\nThis simplifies to:\n\n\\[\nn = -6 \\pm \\sqrt{k^2 + 2043}.\n\\]\n\nFor \\( n \\) to be a positive integer, \\( \\sqrt{k^2 + 2043} \\) must also be a positive integer. We denote this integer as \\( m \\):\n\n\\[\n\\sqrt{k^2 + 2043} = m.\n\\]\n\nSquaring both sides results in the equation:\n\n\\[\nk^2 + 2043 = m^2 \\implies m^2 - k^2 = 2043.\n\\]\n\nFactoring the left-hand side gives us:\n\n\\[\n(m - k)(m + k) = 2043.\n\\]\n\nNext, we need to factor \\( 2043 \\). Its prime factorization is:\n\n\\[\n2043 = 3^2 \\times 227.\n\\]\n\nThe divisors of \\( 2043 \\) are \\( 1, 3, 9, 227, 681, \\) and \\( 2043 \\). We will analyze each divisor \\( d \\) such that:\n\n- \\( m - k = d \\)\n- \\( m + k = \\frac{2043}{d} \\)\n\nFrom these, we derive:\n\n\\[\nm = \\frac{d + \\frac{2043}{d}}{2}, \\quad k = \\frac{-d + \\frac{2043}{d}}{2}.\n\\]\n\nNow, we substitute each divisor and compute \\( n \\):\n\n1. **For \\( d = 1 \\)**:\n   - \\( m = \\frac{1 + 2043}{2} = 1022 \\)\n   - \\( k = \\frac{-1 + 2043}{2} = 1021 \\)\n   - \\( n = -6 + m = 1016 \\)\n\n2. **For \\( d = 3 \\)**:\n   - \\( m = \\frac{3 + 681}{2} = 342 \\)\n   - \\( k = \\frac{-3 + 681}{2} = 339 \\)\n   - \\( n = -6 + m = 336 \\)\n\n3. **For \\( d = 9 \\)**:\n   - \\( m = \\frac{9 + 227}{2} = 118 \\)\n   - \\( k = \\frac{-9 + 227}{2} = 109 \\)\n   - \\( n = -6 + m = 112 \\)\n\n4. **For \\( d = 227 \\)**:\n   - \\( m = \\frac{227 + 9}{2} = 118 \\)\n   - \\( k = \\frac{-227 + 9}{2} = -109 \\) (not valid)\n\n5. **For \\( d = 681 \\)**:\n   - \\( m = \\frac{681 + 3}{2} = 342 \\)\n   - \\( k = \\frac{-681 + 3}{2} = -339 \\) (not valid)\n\n6. **For \\( d = 2043 \\)**:\n   - \\( m = \\frac{2043 + 1}{2} = 1022 \\)\n   - \\( k = \\frac{-2043 + 1}{2} = -1021 \\) (not valid)\n\nThe valid positive integers \\( n \\) found are \\( 1016, 336, \\) and \\( 112 \\).\n\nThe sum \\( S \\) of these integers is:\n\n\\[\nS = 1016 + 336 + 112 = 1464.\n\\]\n\nFinally, to find the remainder when \\( S \\) is divided by \\( 1000 \\):\n\n\\[\n1464 \\mod 1000 = 464.\n\\]\n\nThus, the answer is:\n\n\\[\n\\boxed{464}.\n\\]",
  "ground_truth": "If $n^2 + 12n - 2007 = m^2$, we can complete the square on the left-hand side to get $n^2 + 12n + 36 = m^2 + 2043$ so $(n+6)^2 = m^2 + 2043$. Subtracting $m^2$ and factoring the left-hand side, we get $(n + m + 6)(n - m + 6) = 2043$. $2043 = 3^2 \\cdot 227$, which can be split into two factors in 3 ways, $2043 \\cdot 1 = 3 \\cdot 681 = 227 \\cdot 9$. This gives us three pairs of equations to solve for $n$:\n$n + m + 6 = 2043$ and $n - m + 6 = 1$ give $2n + 12 = 2044$ and $n = 1016$.\n$n + m + 6 = 681$ and $n - m + 6 = 3$ give $2n + 12 = 684$ and $n = 336$.\n$n + m + 6 = 227$ and $n - m + 6 = 9$ give $2n + 12 = 236$ and $n = 112$.\nFinally, $1016 + 336 + 112 = 1464$, so the answer is $\\boxed{464}$."
}