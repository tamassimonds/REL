{
  "problem": "Given a positive integer $n$, it can be shown that every complex number of the form $r+si$, where $r$ and $s$ are integers, can be uniquely expressed in the \"base\" $-n+i$ using the integers $1,2,\\ldots,n^2$ as \"digits.\" That is, the equation\\[r+si=a_m(-n+i)^m+a_{m-1}(-n+i)^{m-1}+\\cdots +a_1(-n+i)+a_0\\]is true for a unique choice of non-negative integer $m$ and digits $a_0,a_1,\\ldots,a_m$ chosen from the set $\\{0,1,2,\\ldots,n^2\\}$, with $a_m\\ne 0$. We write \\[r+si=(a_ma_{m-1}\\ldots a_1a_0)_{-n+i}\\]to denote the base $-n+i$ expansion of $r+si$.\n\nThere are only finitely many integers $k+0i$ that have four-digit expansions\n\\[k=(a_3a_2a_1a_0)_{-3+i} \\qquad (a_3 \\neq 0).\\]Find the sum of all such $k$.",
  "solution": "To find the sum of all integers \\( k \\) that can be expressed as four-digit expansions in base \\( -3+i \\) with digits \\( a_3, a_2, a_1, a_0 \\) where \\( a_3 \\neq 0 \\) and \\( a_i \\in \\{0, 1, 2, \\ldots, 9\\} \\), we proceed through several steps.\n\n### Step 1: Expand \\( k \\) in Base \\( -3+i \\)\nThe number \\( k \\) is expressed as:\n\\[\nk = a_3(-3+i)^3 + a_2(-3+i)^2 + a_1(-3+i) + a_0.\n\\]\nWe first compute the powers of \\( -3+i \\):\n\n1. **For \\( (-3+i)^1 \\)**:\n   \\[\n   (-3+i) = -3 + i.\n   \\]\n\n2. **For \\( (-3+i)^2 \\)**:\n   \\[\n   (-3+i)^2 = 9 - 6i - 1 = 8 - 6i.\n   \\]\n\n3. **For \\( (-3+i)^3 \\)**:\n   \\[\n   (-3+i)^3 = (-3+i)(8-6i) = -24 + 18i + 8i + 6 = -18 + 26i.\n   \\]\n\n### Step 2: Write the Expression for \\( k \\)\nSubstituting the computed powers into \\( k \\):\n\\[\nk = a_3(-18 + 26i) + a_2(8 - 6i) + a_1(-3 + i) + a_0,\n\\]\nwhich reorganizes to:\n\\[\nk = (-18a_3 + 8a_2 - 3a_1 + a_0) + (26a_3 - 6a_2 + a_1)i.\n\\]\nTo ensure \\( k \\) is a real integer, the imaginary part must be zero:\n\\[\n26a_3 - 6a_2 + a_1 = 0.\n\\]\n\n### Step 3: Solve for \\( a_1 \\)\nFrom this equation, we find:\n\\[\na_1 = 6a_2 - 26a_3.\n\\]\nConsidering the constraints on \\( a_i \\), we need \\( a_1 \\) to be a non-negative integer, specifically \\( 0 \\leq a_1 \\leq 9 \\).\n\n### Step 4: Analyze Bounds on \\( a_3 \\)\nSince \\( a_1 \\) is expressed in terms of \\( a_2 \\) and \\( a_3 \\):\n\\[\n0 \\leq 6a_2 - 26a_3 \\leq 9.\n\\]\nThis leads to:\n1. **Upper Bound**: \\( 6a_2 \\leq 26a_3 + 9 \\)\n2. **Lower Bound**: \\( 6a_2 \\geq 26a_3 \\).\n\nExpressing in terms of \\( a_3 \\):\n\\[\n\\frac{26a_3}{6} \\leq a_2 \\leq \\frac{26a_3 + 9}{6}.\n\\]\n\n### Step 5: Determine Valid Values for \\( a_3 \\)\nGiven \\( a_3 \\) can be \\( 1 \\) or \\( 2 \\):\n\n- **Case \\( a_3 = 1 \\)**:\n  \\[\n  a_1 = 6a_2 - 26 \\quad \\text{(requires } a_2 \\geq 5\\text{)}.\n  \\]\n  Valid \\( a_2 \\) values: \\( 5, 6, 7, 8, 9 \\):\n  - If \\( a_2 = 5 \\): \\( a_1 = 4 \\) (valid)\n  - \\( a_2 = 6, 7, 8, 9 \\) yield invalid values for \\( a_1 \\).\n\nSo the only valid combination is \\( (a_3, a_2, a_1) = (1, 5, 4) \\). Thus:\n\\[\nk = -18 \\cdot 1 + 8 \\cdot 5 - 3 \\cdot 4 + a_0 = 10 + a_0.\n\\]\nThis gives valid \\( k \\) values: \\( 10, 11, \\ldots, 19 \\). Their sum is:\n\\[\n10 + 11 + \\ldots + 19 = \\frac{(10 + 19) \\cdot 10}{2} = 145.\n\\]\n\n- **Case \\( a_3 = 2 \\)**:\n  \\[\n  a_1 = 6a_2 - 52 \\quad \\text{(requires } a_2 \\geq 9\\text{)}.\n  \\]\n  The only valid \\( a_2 \\) value is \\( 9 \\):\n  - Thus, \\( a_1 = 2 \\) (valid).\n\nSo, we have:\n\\[\nk = -18 \\cdot 2 + 8 \\cdot 9 - 3 \\cdot 2 + a_0 = 30 + a_0.\n\\]\nThis gives valid \\( k \\) values: \\( 30, 31, \\ldots, 39 \\). Their sum is:\n\\[\n30 + 31 + \\ldots + 39 = \\frac{(30 + 39) \\cdot 10}{2} = 345.\n\\]\n\n### Step 6: Final Calculation\nAdding the sums from both cases:\n\\[\n145 + 345 = 490.\n\\]\nThus, the final answer is:\n\\[\n\\boxed{490}.\n\\]",
  "ground_truth": "To say that $k = (a_3a_2a_1a_0)_{-3+i}$ is to say that \\[k = a_3(-3+i)^3 + a_2(-3+i)^2 + a_1(-3+i) + a_0.\\]Expanding the right-hand side, we have  \\[k = (-18a_3+8a_2-3a_1+a_0) + (26a_3-6a_2+a_1)i.\\]Since $k$ is a real number, the imaginary part of the right-hand side must be zero; that is, \\[26a_3 - 6a_2 + a_1 = 0\\]or \\[26a_3 = 6a_2 - a_1.\\]Remember that $0 \\le a_1, a_2, a_3\\le 9$, so $6a_2 - a_1 \\le 6 \\cdot 9 - 0 = 54$. Thus, $26a_3 \\le 54$, so $a_3 \\le 2$. We take cases, remembering that $a_3 \\neq 0$:\n\nIf $a_3 = 1$, then we have $6a_2 - a_1 = 26$. The only solution to this equation is $(a_1, a_2) = (4, 5)$, so we have \\[k = -18a_3 + 8a_2 - 3a_1 + a_0 = -18 \\cdot 1 + 8 \\cdot 5 -3 \\cdot 4 + a_0 = 10 + a_0.\\]Since $a_0 \\in \\{0, 1, 2, \\ldots, 9\\}$, the possible values of $k$ are $10, 11, 12, \\ldots, 19$, and these have a sum \\[10 + 11 + 12 + \\dots + 19 = \\frac{29 \\cdot 10}{2} = 145.\\]\nIf $a_3 = 2$, then we have $6a_2 - a_1 = 52$. The only solution to this equation is $(a_1, a_2) = (2, 9)$, so we have \\[k = -18a_3 + 8a_2 - 3a_1 + a_0 = -18 \\cdot 2 + 8 \\cdot 9 -3 \\cdot 2 + a_0 = 30 + a_0.\\]Therefore, the possible values of $k$ are $30, 31, 32, \\ldots, 39$, which sum to \\[30 + 31 + 32 + \\dots + 39 = \\frac{69 \\cdot 10}{2} = 345.\\]\n\nAdding up both cases, we get the answer, $145 + 345 = \\boxed{490}$."
}